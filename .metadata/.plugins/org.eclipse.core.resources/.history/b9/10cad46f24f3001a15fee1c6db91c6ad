/*
 ============================================================================
 Name        : First.c
 Author      : Pablo E. Campos DIV. 1.E
 Version     :
 Copyright   : Your copyright notice
 Description : Hello World in C, Ansi-style
 ============================================================================
 */

#include <stdio.h>
#include <stdlib.h>

int main(void) {

	setbuf(stdout, NULL);
	char select;
	char exit = 'd';
	int flagA;
	int flagB;

	flagA = 0;
	flagB = 0;

	do {  // Comienzo de DO WHILE

		system("cls");
		printf("\n Ingrese una opcion :\n");
		printf("\n  บบบบบบบบบบบบบบบบบบบบบบ\n");
		printf("\n 	A) Saludar. 		\n");
		printf("\n 	B) Brindar. 		\n");
		printf("\n 	C) Despedirse. 		\n");
		printf("\n 	D) Salir. 			\n");
		printf("\n  บบบบบบบบบบบบบบบบบบบบบบ\n");
		scanf("%c", &select);

		while (select == 'a' && select == 'b' && select == 'c' && select == 'd') {
			printf(
					"\n Error, ingrese una opcion:  A) Saludar.  B) Brindar.  C) Despedirse.  D) Salir.");
			fflush(stdin);
			scanf("%c", &select);

		}

		if (select == 'a') {
			flagA = 1;
		}

		if (select == 'b') {
			flagB = 1;
		}

		switch (select) {

		case 'a':
			printf("\n Hola Hola!");
			fflush(stdin);
			scanf("%c", &select);

			break;

		case 'b':
			if (flagA == 1) {
				printf("\n Genial, brindemos! ");
				fflush(stdin);
				scanf("%c", &select);
			} else {
				printf("\n No puedes brindar sin saludar primero! ");
				fflush(stdin);
				scanf("%c", &select);
			}
			break;

		case 'c':
			if (flagA == 1 && flagB == 1) {

				printf("\n Hasta luego, gracias por venir!");
				fflush(stdin);
				scanf("%c", &select);
				flagA = 0;
				flagB = 0;
			}

			else {
				printf("No puedes irte sin brindar antes");
				fflush(stdin);
				scanf("%c", &select);
			}

			break;

		default:
			printf("\n Saliendo");
			break;
		}


	}while (exit == 'd'); // finaliza do while

	return 0;
}
